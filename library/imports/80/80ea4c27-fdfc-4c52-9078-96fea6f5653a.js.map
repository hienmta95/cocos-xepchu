{"version":3,"sources":["assets\\loading.js"],"names":["createStyle","createDom","id","num","i","item","div","document","createElement","className","bar","list","push","ball","halo","appendChild","length","span","innerHTML","startAnimation","callback","index","direction","time","animation","setTimeout","bgColor","body","style","background","type","head"],"mappings":"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","sourceRoot":"/","sourcesContent":["(function () {\r\n    var createStyle = function () {\r\n        return \".cocosLoading{position:absolute;margin:-30px -60px;padding:0;top:40%;left:50%}\" + \".cocosLoading ul{margin:0;padding:0;}\" + \".cocosLoading span{color:#FFF;text-align:center;display:block;}\" + \".cocosLoading li{list-style:none;float:left;border-radius:15px;width:15px;height:15px;background:#FFF;margin:5px 0 0 10px}\" + \".cocosLoading li .ball,.cocosLoading li .unball{background-color:#2187e7;background-image:-moz-linear-gradient(90deg,#2187e7 25%,#a0eaff);background-image:-webkit-linear-gradient(90deg,#2187e7 25%,#a0eaff);width:15px;height:15px;border-radius:50px}\" + \".cocosLoading li .ball{transform:scale(0);-moz-transform:scale(0);-webkit-transform:scale(0);animation:showDot 1s linear forwards;-moz-animation:showDot 1s linear forwards;-webkit-animation:showDot 1s linear forwards}\" + \".cocosLoading li .unball{transform:scale(1);-moz-transform:scale(1);-webkit-transform:scale(1);animation:hideDot 1s linear forwards;-moz-animation:hideDot 1s linear forwards;-webkit-animation:hideDot 1s linear forwards}\" + \"@keyframes showDot{0%{transform:scale(0,0)}100%{transform:scale(1,1)}}\" + \"@-moz-keyframes showDot{0%{-moz-transform:scale(0,0)}100%{-moz-transform:scale(1,1)}}\" + \"@-webkit-keyframes showDot{0%{-webkit-transform:scale(0,0)}100%{-webkit-transform:scale(1,1)}}\" + \"@keyframes hideDot{0%{transform:scale(1,1)}100%{transform:scale(0,0)}}\" + \"@-moz-keyframes hideDot{0%{-moz-transform:scale(1,1)}100%{-moz-transform:scale(0,0)}}\" + \"@-webkit-keyframes hideDot{0%{-webkit-transform:scale(1,1)}100%{-webkit-transform:scale(0,0)}}\"\r\n    };\r\n    var createDom = function (id, num) {\r\n        id = id || \"cocosLoading\";\r\n        num = num || 5;\r\n        var i, item;\r\n        var div = document.createElement(\"div\");\r\n        div.className = \"cocosLoading\";\r\n        div.id = id;\r\n        var bar = document.createElement(\"ul\");\r\n        var list = [];\r\n        for (i = 0; i < num; i++) {\r\n            item = document.createElement(\"li\");\r\n            list.push({ ball: document.createElement(\"div\"), halo: null });\r\n            item.appendChild(list[list.length - 1].ball);\r\n            bar.appendChild(item)\r\n        }\r\n        var span = document.createElement(\"span\");\r\n        span.innerHTML = \"Loading\";\r\n        div.appendChild(bar);\r\n        div.appendChild(span);\r\n        //document.body.appendChild(div);\r\n        return list\r\n    };\r\n    var startAnimation = function (list, callback) {\r\n        var index = 0;\r\n        var direction = true;\r\n        var time = 300;\r\n        var animation = function () {\r\n            setTimeout(function () {\r\n                if (callback && !callback()) {\r\n                    return\r\n                }\r\n                var item = list[index];\r\n                if (direction) {\r\n                    item.ball.className = \"ball\"\r\n                } else {\r\n                    item.ball.className = \"unball\"\r\n                }\r\n                index++;\r\n                if (index >= list.length) {\r\n                    direction = !direction;\r\n                    index = 0;\r\n                    time = 1000;\r\n                } else {\r\n                    time = 300;\r\n                }\r\n                animation()\r\n            }, time)\r\n        };\r\n        animation()\r\n    };\r\n    (function () {\r\n        var bgColor = document.body.style.background;\r\n        document.body.style.background = \"#000000 url('res/loading/logo.png') no-repeat center top\";\r\n        var style = document.createElement(\"style\");\r\n        style.type = \"text/css\";\r\n        style.innerHTML = createStyle();\r\n        document.head.appendChild(style);\r\n        //var list = createDom();\r\n        //startAnimation(list, function () {\r\n        //    var div = document.getElementById(\"cocosLoading\");\r\n        //    if (!div) {\r\n        //        document.body.style.background = bgColor\r\n        //    }\r\n        //    return !!div\r\n        //})\r\n    })()\r\n})();"]}